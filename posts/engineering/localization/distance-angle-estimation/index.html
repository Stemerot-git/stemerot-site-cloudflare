<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8" />
  <title>Εκτίμηση απόστασης/γωνίας μεταξύ αντικειμένων - Stemerot</title>
  <link rel="icon" href="/img/stemerot-icon-circular.png">
  <meta name="description" content="Πώς μπορούμε να χρησιμοποιήσουμε ηλεκτρομαγνητικά ή ακουστικά σήματα για να εκτιμήσουμε την απόσταση/γωνία μεταξύ δύο αντικειμένων;" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  
  
  
  <link rel="stylesheet" href="/css/bundle.min.428654267ceba91881caf2edb11d290eae91ecc0cbae4a8260b542e6935b2462.css" integrity="sha256-QoZUJnzrqRiByvLtsR0pDq6R7MDLrkqCYLVC5pNbJGI=">
  
  
</head>
<body>
  <header class="site-header">
  <div class="header-container">
    <a href="/">
      <div class="logo-wrapper">
        
        <div
          id="site-logo"
          class="stemerot-logo"
          role="img"
          aria-label="Stemerot logo"
        ></div>
    
        
        <span class="stemerot-title">Stemerot</span>
      </div>
    </a>
    
    <button id="menu-toggle" class="menu-toggle" aria-label="Toggle navigation">
      &#9776;
    </button>
    
    <nav id="main-nav" class="main-nav">
      <ul>
        <li><a href="/">Posts</a></li>
        <li><a href="/topics/">Topics</a></li>
        <li><a href="/eshop/">Shop</a></li>
        <li><a href="/courses/">Courses</a></li>
        <li><a href="/about/">About</a></li>
        <li class="mobile-search-container">
          <div class="search-bar mobile-search">
              <input class="search-input" type="search" placeholder="🔍 Αναζήτηση..." />
              <div class="search-results"></div>
          </div>
        </li>
      </ul>
    </nav>
    <div class="search-and-toggle">
      <div class="search-bar desktop-search">
        <input class="search-input" type="search" placeholder="🔍 Αναζήτηση..." />
        <div class="search-results"></div>
      </div>
      
      <button id="toggle-theme" aria-label="Toggle theme">◐</button>
    </div>
  </div>
</header>

  


<section class="adsense-section-small section-container">
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-5957385556386219"
        data-ad-slot="9876543210"
        data-ad-format="auto"
        data-full-width-responsive="true">
    </ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</section>

<main class="post-main-section">
  
  <div class="post-content">
    
    
      <div class="post-image">
        <img src="/img/posts/math-equations.webp" alt="Εκτίμηση απόστασης/γωνίας μεταξύ αντικειμένων">
      </div>
    

    <h1 class="post-title">Εκτίμηση απόστασης/γωνίας μεταξύ αντικειμένων</h1>

    
      <div class="post-summary">
        <p>Πώς μπορούμε να χρησιμοποιήσουμε ηλεκτρομαγνητικά ή ακουστικά σήματα για να εκτιμήσουμε την απόσταση/γωνία μεταξύ δύο αντικειμένων;</p>
      </div>
    

    <div class="post-meta">
      <div class="post-date-readtime">
        <span class="post-readtime">12 min read</span>
        <span> - </span>
        <span class="post-date">
            









16 Ιαν 2025

        </span>
      </div>
      <div class="post-share">
        <h3>Share: </h3>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fstemerot.com%2fposts%2fengineering%2flocalization%2fdistance-angle-estimation%2f" target="_blank">
            <img src="/img/social/facebook-icon.svg" alt="Share on Facebook">
          </a>
          <a href="https://x.com/intent/tweet?text=%CE%95%CE%BA%CF%84%CE%AF%CE%BC%CE%B7%CF%83%CE%B7&#43;%CE%B1%CF%80%CF%8C%CF%83%CF%84%CE%B1%CF%83%CE%B7%CF%82%2F%CE%B3%CF%89%CE%BD%CE%AF%CE%B1%CF%82&#43;%CE%BC%CE%B5%CF%84%CE%B1%CE%BE%CF%8D&#43;%CE%B1%CE%BD%CF%84%CE%B9%CE%BA%CE%B5%CE%B9%CE%BC%CE%AD%CE%BD%CF%89%CE%BD&url=http%3a%2f%2fstemerot.com%2fposts%2fengineering%2flocalization%2fdistance-angle-estimation%2f" target="_blank">
            <img src="/img/social/x-icon.svg" alt="Share on X">
          </a>
          <a href="https://www.linkedin.com/sharing/share-offsite/?url=http%3a%2f%2fstemerot.com%2fposts%2fengineering%2flocalization%2fdistance-angle-estimation%2f" target="_blank">
            <img src="/img/social/linkedin-icon.svg" alt="Share on LinkedIn">
          </a>
      </div>
    </div>
    
    <div class="post-tags" style="margin-top: 0.1rem;">
      
        <a href="/tags/gps" class="tag" style="text-decoration: none;color:inherit">GPS</a>
      
        <a href="/tags/tdoa" class="tag" style="text-decoration: none;color:inherit">TDOA</a>
      
        <a href="/tags/toa" class="tag" style="text-decoration: none;color:inherit">TOA</a>
      
    </div>
    

    <br>
    <hr>
    <br>
    

    <div class="post-content-body">
      <p>Σε προηγούμενο άρθρο γεννήθηκε η απορία για το πώς στο καλό μπορεί να δουλεύει το GPS&hellip; Αν έχεις απορία σε ποιο άρθρο έγινε η εισαγωγή, διάβασε αυτό <a href="/posts/engineering/localization/localization-system">εδώ</a> και θα καταλάβεις 😉.</p>
<p>Ένα από τα σημαντικότερα μέρη ενός συστήματος εντοπισμού θέσης είναι ο υπολογισμός αποστάσεων και γωνιών. Γνωρίζοντας τέτοιου είδους πληροφορίες, μπορούν να χρησιμοποιηθούν έξυπνες μαθηματικές τεχνικές για να βρούμε τη θέση αντικειμένων στον χώρο και τελικά να βάλουμε στο νέο next-gen phone ένα ultra ακριβές GPS&hellip; Πώς μπορεί να γίνει εφικτό, μπορείς να βρεις <a href="/posts/engineering/localization/position-computation">εδώ</a>.</p>
<p>Σε αυτό το άρθρο θα μιλήσουμε για τεχνικές που αφορούν ακουστικά και ηλεκτρομαγνητικά κύματα. Όταν αναφερόμαστε σε τέτοιες τεχνικές, κατά βάση, εννοούμε μεθοδολογίες που βασίζονται στην ενέργεια, σε αντίθεση με τις οπτικές τεχνικές. Αν σας ενδιαφέρει ο οπτικός τρόπος υπολογισμού της θέσης, με χρήση κάμερας, μπορείτε να διαβάσετε το εξής <a href="/posts/engineering/localization/camera-pose-estimation">άρθρο</a>.</p>
<h2 id="a-εκτίμηση-απόστασης">A. Εκτίμηση Απόστασης</h2>
<p>Το πρώτο που θα μας απασχολήσει είναι, σε ένα σύστημα με 2 κόμβους, n1 και n2, το να μετρήσουμε την απόσταση μεταξύ τους. Αν δεν είναι ξεκάθαρο γιατί αυτό είναι σημαντικό, μην αγχώνεσαι.</p>
<pre class="mermaid">%%{init: {&#39;theme&#39;:&#39;neutral&#39;}}%%
graph LR
n1((&#34;n1&#34;)) &lt;----&gt; n2((&#34;n2&#34;))
</pre>

    <p>Believe in the process. Απλά μείνε μαζί μου, και όσο συνεχίζουμε στο άρθρο ελπίζω ότι θα γίνει ξεκάθαρο.</p>
<hr>
<h3 id="α1-received-signal-strength">Α1. Received Signal Strength</h3>
<p>Ξεκινώντας, θα αναφερθούμε σε μια τεχνική που ονομάζεται Received Signal Strength Indicator (RSSI), η οποία χρησιμοποιείται συχνά στα Radio Frequencies (RF) λόγω της απλότητάς της. Εκμεταλλεύεται το γεγονός ότι η λαμβανόμενη ισχύς ενός σήματος εξαρτάται από την απόσταση που βρίσκεται ο δέκτης από τον πομπό.</p>
<p>Συγκεκριμένα, η μείωση της ισχύος ενός σήματος καθώς αυτό διαδίδεται στον χώρο ονομάζεται path loss ή path attenuation.</p>
<p>
  Στον ελεύθερο χώρο, η λαμβανόμενη ισχύς \(P_r(d)\) που ανιχνεύεται από τον δέκτη μπορεί να περιγραφεί από το μοντέλο του Free Space Path Loss (FSPL), το οποίο προκύπτει μέσω της εξίσωσης μετάδοσης του Friis:
</p>
<p>$$
P_r(d)=\frac{P_tG_tG_r\lambda^2}{(4\pi)^2d^2}
$$</p>
<p>
  Όπου \(P_t\) είναι η ισχύς που στέλνει ο πομπός, \(G_t\) είναι το gain της κεραίας του πομπού, \(G_r\) το gain της κεραίας του δέκτη, λ το μήκος κύματος του σήματος που μεταδίδουμε και d η απόσταση του πομπού από τον δέκτη. Αν θεωρήσουμε ότι τα \(G_t\), \(G_r\)​ και λ είναι μη μεταβλητές τιμές, επειδή είναι χαρακτηριστικά του hardware που θα χρησιμοποιήσουμε – με \(C_f = \frac{G_tG_r\lambda^2}{(4\pi)^2}\) ​– τότε μπορούμε να καταλήξουμε στην παρακάτω σχέση:
</p>
<p>$$
P_r(d)=C_f\frac{P_t}{d^2}
$$</p>
<p>Τι μας λέει τώρα αυτό; Ωραία τα μαθηματικά, αλλά δεν γίνεται να έχουμε τελειώσει και Πανεπιστήμιο για να τα καταλάβουμε όλα&hellip;</p>
<p>Πρακτικά&hellip; Κράτα ένα πράγμα! Αυτό που μπορούμε να δούμε από την παραπάνω σχέση είναι ότι, ιδανικά, στον ελεύθερο χώρο, σε μετάδοση Line of Sight (LoS) – δηλαδή, όταν ο πομπός βλέπει τον δέκτη χωρίς να υπάρχουν ενδιάμεσα εμπόδια, η ισχύς του σήματος που λαμβάνει ο δέκτης εξαρτάται από το αντίστροφο του τετραγώνου της απόστασης μεταξύ των δύο nodes.</p>
<p>Η τελευταία σχέση που μόλις δώσαμε συχνά αναφέρεται σε watt, όμως, όταν αναφερόμαστε στην ισχύ μετάδοσης, πολύ συχνά μας βολεύει να την εκφράζουμε σε dBm. Ο τρόπος για να μετατρέψουμε watt σε dBm και αντίστροφα μπορεί να γίνει με τις παρακάτω σχέσεις.</p>
<p>$$
P[dBm]= 10\cdot log_{10}\left(\frac{P[mW]}{1[mW]}\right)
$$
$$
\quad \quad P[mW] = 10^\frac{(P[dBm])}{10}
$$</p>
<p>Ωραία&hellip; Και τώρα που έχουμε πει όλα αυτά, ας δούμε λίγο οπτικά τι σημαίνει η πρόταση: &ldquo;η ισχύς του σήματος που λαμβάνει ο δέκτης εξαρτάται από το αντίστροφο του τετραγώνου της απόστασης μεταξύ των δύο nodes&rdquo;. Ας αναπαραστήσουμε την σχέση που αναφέραμε νωρίτερα, η οποία συνδέει την απόσταση του πομπού από τον δέκτη με τη λαμβανόμενη ισχύ σε dBm.</p>
<figure class="custom-figure" style="margin: 0; padding: 0; text-align: center;">
  <img src="/img/posts/localization/rssi-distance-relationship.webp" alt="RSSI relationship to distance" class="" style="max-width:80%; display: block; margin: 0 auto;">
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      Ιδανική εξάρτηση του RSSI με βάση την απόσταση (<a href="https://www.semanticscholar.org/paper/Adaptive-Distance-Estimation-Based-on-RSSI-in-802-.-Botta-Simek/8b7669850aecaa7b4f8a1b774f260bff24b20ef6" style="color:inherit">URL</a>)
    </figcaption>
</figure>
<p>Αν λοιπόν, μετράμε την ισχύ με την οποία λαμβάνουμε ένα σήμα, μπορούμε να είμαστε σε θέση να υπολογίσουμε την απόσταση που βρίσκεται ο πομπός από εμάς. Αυτή η μέθοδος παρόλο που είναι αρκετά δημοφιλής και οικονομική για τον υπολογισμό της απόστασης - λόγω του ότι δεν απαιτεί επιπλέον αισθητήρες - σε πραγματικές  συνθήκες αντιμετωπίζει αρκετά προβλήματα, καθώς οι μετρήσεις μπορούν να επηρεαστούν από θόρυβο, ανακλάσεις του σήματος, διαθλάσεις, δυναμικά περιβάλλοντα ή εμπόδια σε αυτά, Non-Line of Sight (NLoS) μετάδοση,  ή ακόμα και errors στο hardware. Σε ένα βαθμό μπορεί να βελτιωθεί η απόδοση με στατικό ή δυναμικό calibration του συστήματος, όμως μέχρι τώρα δεν χρησιμοποιείται για εκτίμηση απόστασης σε εφαρμογές όπου nodes έχουν μεγάλη απόσταση μεταξύ τους ή μας ενδιαφέρει να έχουμε μεγάλη ακρίβεια προσέγγισης της απόστασης</p>
<hr>
<h3 id="α2-propagation-time">Α2. Propagation Time</h3>
<p>Σε αυτήν την κατηγορία εκτίμησης απόστασης μεταξύ nodes - η οποία βασίζεται σε χρονικές μετρήσεις της διάδοσης του σήματος, Time of Flight (ToF) - κατά κύριο λόγο χρησιμοποιούνται δύο βασικές τεχνικές, η Time of Arrival (ToA) και η Time Difference of Arrival (TDoA).</p>
<h4 id="α21-time-of-arrival">Α2.1 Time of Arrival</h4>
<p>Aπό την κινηματική γνωρίζουμε την παρακάτω σχέση:</p>
<p>$$
V=\frac{\mathrm{d}s}{\mathrm{d}t}
$$</p>
<p>Η οποία συσχετίζει την ταχύτητα κίνησης ενός σώματος V ως το πηλίκο της μεταβολής της θέσης ds - που έκανε το σώμα - προς τον χρόνο dt που χρειάστηκε για να πραγματοποιηθεί η μεταβολή. Αξιοποιώντας αυτή την σχέση ως αρχή, μπορούμε να καταλήξουμε στην επόμενη σχέση ώστε να εκτιμήσουμε την απόσταση d που βρίσκονται δύο nodes μεταξύ τους, αν ένα κύμα κινείται με ταχύτητα s και χρειάστηκε  χρόνο t για να μεταδοθεί από το ένα node στο άλλο.</p>
<p>$$
d=s(t_b-t_a)
$$</p>
<p>
Στο (a) απεικονίζεται σχηματικά αυτή η ιδέα, όπου \(t=t_b-t_a\) με \(t_b\) η χρονική στιγμή που φτάνει το κύμα στο receiver και \(t_a\) η χρονική στιγμή η οποία ξεκινάει από τον transmitter. Σε περίπτωση που μιλάμε για RF κύματα και μετάδοση στο κενό, η ταχύτητα μετάδοσης του κύματος είναι ίση με την ταχύτητα μετάδοσης του φωτός \(c_o\), το οποίο  σε \(0.1μs\) διανύει περίπου \(30m\).   
</p>


<figure class="custom-figure" style="margin: 0; padding: 0; text-align: center;">
  
  <img src="/img/posts/thesis/toa-oneway.webp" alt="Time of arrival one-way" style="max-width:80%; display: block; margin: 0 auto;">
  
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      (a) ToA: One-way
    </figcaption>
  
</figure>
<p>Κατάλαβες τι γίνεται εδώ&hellip;; Μετρώντας τον χρόνο που χρειάζεται ένα σήμα για να μεταδοθεί μεταξύ δύο σημείων, μπορούμε τελικά να υπολογίσουμε την απόσταση τους.</p>
<p>Με βάση αυτό, μπορούμε εύκολα να καταλάβουμε ότι για να έχουμε ακριβή αποτελέσματα είναι αρκετά σημαντικό τα clocks των δύο nodes να είναι απόλυτα συγχρονισμένα για να μην έχουμε error απόκλισης, πράγμα που απαιτεί να κάνουμε το συνολικό σύστημα αρκετά πιο πολύπλοκο σχεδιαστικά  ώστε η απόκλιση μας να είναι σε ανεκτά σημεία για την εφαρμογή.</p>
<p>Μπορούμε να το παρακάμψουμε αυτό, με το να γίνει η μέτρηση σε Round-Trip Time (RTT), βλ. (b).</p>


<figure class="custom-figure" style="margin: 0; padding: 0; text-align: center;">
  
  <img src="/img/posts/thesis/toa-roundtrip.webp" alt="Time of arrival roundtrip" style="max-width:80%; display: block; margin: 0 auto;">
  
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      (b) ToA: Roundtrip
    </figcaption>
  
</figure>
<p>
Σε αυτήν την περίπτωση το ένα node στέλνει ένα σήμα, και μόλις το λάβει ένα γειτονικό node, απαντάει πίσω στο πρώτο.  Με αυτόν τον τρόπο η μέτρηση του χρόνου εκκίνησης \(t_a\) και άφιξης \(t_b\) του σήματος γίνονται στο ίδιο node -  άρα δεν χρειάζεται συγχρονισμός, και η πραγματική απόσταση είναι η μισή από αυτή που θα υπολογιστεί. Ο κύριος παράγοντας σφάλματος σε αυτή την μέθοδο, είναι ο υπολογισμός του χρόνου που χρειάστηκε το δεύτερο node για να διαχειριστεί το σήμα που έλαβε και να απαντήσει. Αυτό το internal delay \(t_{in}\) μπορεί να είναι είτε γνωστό από  ένα a priori calibration, είτε μπορεί να μετριέται και να στέλνεται μαζί με το σήμα απάντησης - ώστε να αφαιρείται από τον χρόνο μετάδοσης του κύματος.
</p>
<p>Με αυτά τα δεδομένα, η παρακάτω σχέση μπορεί να περιγράφει τον τρόπο υπολογισμού της απόστασης d μεταξύ των δύο nodes ακολουθώντας αυτή την μεθοδολογία:</p>
<p>$$
d=\frac{s(t_b-t_a-t_{in})}{2}
$$</p>
<hr>
<h4 id="α22-time-difference-of-arrival">Α2.2 Time Difference of Arrival</h4>
<p>Όσον αφορά την τεχνική TDoA, και σε αυτήν την περίπτωση υπάρχουν δύο παραλλαγές της, όπου και οι δύο είναι βασισμένες στην αρχή το ότι δεν μας ενδιαφέρει η χρονική στιγμή που ξεκίνησε η αποστολή ενός σήματος, αλλά μόνο η χρονική στιγμή που το λάβαμε.</p>
<p>Η πρώτη περίπτωση σχετίζεται με single signal και multiple receivers και παρουσιάζεται στο (c).</p>


<figure class="custom-figure" style="margin: 0; padding: 0; text-align: center;">
  
  <img src="/img/posts/thesis/tdoa-multiple.webp" alt="TDoA Single signal - multiple receivers" style="max-width:80%; display: block; margin: 0 auto;">
  
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      (c) TDoA: Single signal - multiple receivers
    </figcaption>
  
</figure>
<p>Χρησιμοποιείται συνήθως στα cellular networks και απαιτεί την ύπαρξη τουλάχιστον 4 beacons για την απόκτηση πληροφοριών τοποθεσίας ενός free node στον τρισδιάστατο χώρο. Υπολογίζει τη χρονική διαφορά με την οποία έφτασε το σήμα που έστειλε το free node σε κάθε beacon για την εκτίμηση της θέσης του free node από το καθένα από αυτά. Σημαντικό σε αυτήν την περίπτωση είναι, και πάλι, να είναι απόλυτα συγχρονισμένοι οι receivers, αλλά επειδή συνήθως σε τέτοιες εφαρμογές πρόκειται για επίγειες συσκευές με ενσύρματη διασύνδεση, αυτό είναι πιο εύκολο. Βασίζεται στις ιδιότητες των υπερβολικών καμπυλών και στο γεγονός ότι, με δεδομένη μια συγκεκριμένη χρονική διαφορά του σήματος, το free node θα πρέπει να βρίσκεται κάπου πάνω σε μια υπερβολική καμπύλη.</p>
<p>Παρακάτω παρατίθενται παραδείγματα για διαφορετικά Δt (χρονική διαφορά με την οποία λαμβάνουμε σήματα).</p>
<p>

<figure class="custom-figure" style="margin: 0; padding: 0; text-align: center;">
  
  <img src="/img/posts/thesis/tdoa-dt-0.webp" alt="TDoA dt is equal to zero" style="max-width:80%; display: block; margin: 0 auto;max-height:400px">
  
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      TDoA: Δt = 0
    </figcaption>
  
</figure>
$$
\Delta t = a-a = 0
$$
$$
\Delta t = b-b = 0
$$
$$
\Delta t = c-c = 0
$$</p>


<figure class="custom-figure" style="margin: 0; padding: 0; text-align: center;">
  
  <img src="/img/posts/thesis/tdoa-dt-not-0.webp" alt="TDoA dt is not equal to zero" style="max-width:80%; display: block; margin: 0 auto;max-height:400px">
  
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      TDoA: Δt ≠ 0
    </figcaption>
  
</figure>
<p>$$
\Delta t = x-a
$$
$$
\Delta t = y-b
$$
$$
\Delta t = z-c
$$</p>
<hr>
<p>Η δεύτερη εκδοχή της χρήσης TDoA - η οποία είναι πιο συχνή στα Wireless Sensor Networks (WSN), χρησιμοποιεί multiple signals με single receiver.</p>
<p>Η συγκεκριμένη μέθοδος είναι διαισθητικά παρόμοια, με αυτό που θα κάναμε για να εκτιμήσουμε την απόσταση μίας αστραπής από εμάς, μετρώντας το χρονικό διάστημα μέχρι να ακούσουμε την βροντή.</p>


<figure class="custom-figure" style="margin: 0; padding: 0; text-align: center;">
  
  <img src="/img/posts/thesis/tdoa-timing.webp" alt="TDoA Multiple signals - single receiver" style="max-width:80%; display: block; margin: 0 auto;">
  
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      (d) TDoA: Multiple signals - single receiver
    </figcaption>
  
</figure>
<p>
Η αρχή λειτουργίας είναι ότι ο transmitter θα στείλει πολλαπλά, διαφορετικού είδους, σήματα και ο δέκτης θα μετρήσει τη χρονική διαφορά που τα έλαβε. Ως παράδειγμα, μπορεί το ένα σήμα να είναι σε RF και να κινείται με ταχύτητα \(s_r=c_o\)​ και το άλλο, ηχητικό, με ταχύτητα \(s_s \approx 343m/s\) (για μετάδοση σε ξηρό αέρα υπό θερμοκρασία \(20°C\)). Αν \(t_r\) είναι η χρονική στιγμή που λαμβάνει το RF σήμα, \(t_s\) η χρονική στιγμή που λαμβάνει το ηχητικό και \(t_d\) το delay που μεσολάβησε από την αποστολή του ενός στο άλλο, τότε μπορούμε να υπολογίσουμε την απόσταση μεταξύ των κόμβων από την εξίσωση:
</p>
<p>$$
d=(s_r-s_s)(t_s-t_r-t_{d})
$$</p>
<p>Θετικό σε αυτήν τη μέθοδο είναι ότι το error μπορεί να είναι της τάξης των μερικών εκατοστών, όμως αρχικά απαιτεί επιπλέον εξοπλισμό στο node – ώστε να μπορεί να στείλει και να λάβει πολλαπλά είδη σήματος – πράγμα που μπορεί να το καταστήσει αντιοικονομικό ή αρκετά μεγαλύτερο σε διαστάσεις από το επιθυμητό το ολικό σύστημα. Επιπλέον – και μάλιστα σημαντικότερο, η απόσταση που μπορεί να χρησιμοποιηθεί επηρεάζεται σε μεγάλο βαθμό από τα χαρακτηριστικά του δεύτερου σήματος. Ως παράδειγμα, τα ηχητικά σήματα δεν μπορούν να μεταφερθούν σε μεγάλες αποστάσεις, ενώ η ταχύτητά τους μπορεί να επηρεαστεί σημαντικά από περιβαλλοντολογικούς παράγοντες.</p>
<hr>
<h2 id="b-εκτίμηση-γωνίας">B. Εκτίμηση Γωνίας</h2>
<p>Άλλη μία χρήσιμη μέτρηση η οποία μας ενδιαφέρει, είναι η εκτίμηση της γωνίας από την οποία λαμβάνουμε το σήμα ενός γειτονικού node σε σχέση με έναν άξονας αναφοράς. Ο άξονας αυτός μπορεί να είναι είτε κοινώς για όλα τα nodes (π.χ. ως προς το βόρειο γεωγραφικό πόλο), είτε μπορεί να είναι για το κάθε node ξεχωριστός, ως παράδειγμα με βάση τον προσανατολισμό του ίδιου του node ή με βάση την γωνία λήψης ενός επιπλέον σήματος. Την πληροφορία αυτή την βρίσκουμε στην βιβλιογραφία να ονομάζεται Angle of Arrival (AoA) ή Direction of Arrival (DoA).</p>
<p>$$
s(t)=A\sin(2\pi ft + \phi)
$$</p>
<p>
Γνωρίζουμε ότι ένα σήμα καθορίζεται πλήρως από τρεις παραμέτρους, το πλάτος του A, την συχνότητα του f καθώς επίσης και από την φάση του \(\phi\). Για τον υπολογισμό της γωνίας AoA μπορούν να χρησιμοποιηθούν τεχνικές με γνώμονα τα παραπάνω. 
</p>
<h3 id="β1-amplitude-response">Β1. Amplitude response</h3>
<p>Ο όρος Beamforming χρησιμοποιείται για να περιγράψει το pattern της ευαισθησίας του σήματος που στέλνει/λαμβάνει μία directional antenna. Το pattern αυτού του τύπου κεραίας, παρουσιάζεται σε αυτή την εικόνα.</p>
<figure class="custom-figure" style="margin: 0; padding: 0;">
  <img src="/img/posts/localization/anisotropic-antenna-pattern.webp" alt="Pattern ευαισθησίας της anisotropic κεραίας" class="" style="max-width:80%; display: block; margin: 0 auto;">
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      Pattern ευαισθησίας της anisotropic κεραίας (<a href="https://www.sciencedirect.com/science/article/abs/pii/S1389128606003227" style="color:inherit">URL</a>)
    </figcaption>
</figure>
<p>Μπορούμε λοιπόν να χρησιμοποιήσουμε αυτό το χαρακτηριστικό για τον υπολογισμό της AoA.</p>
<p>Εάν χρησιμοποιούμε directional antenna στον receiver και μπορούμε είτε με μηχανικό είτε με ηλεκτρονικό τρόπο να στρέψουμε την κεραία σε διάφορες κατευθύνσεις, τότε μπορούμε μετρώντας το πλάτος του σήματος που λαμβάνουμε, να εκτιμήσουμε και την κατεύθυνση του - όπου ιδανικά βρίσκεται εκεί από όπου έχουμε την μέγιστη τιμή του amplitude του κύματος.</p>
<p>Σημαντικές παράμετροι για την εκτίμηση της γωνίας σε αυτήν την περίπτωση, είναι επίσης η ευαισθησία του δέκτη καθώς και το width του beam της.</p>
<p>Λανθασμένη εκτίμηση μπορεί να προκύψει, αν για κάποιο λόγο το πλάτος του σήματος που λαμβάνουμε δεν είναι σταθερό.</p>
<p>Σε αυτή την περίπτωση, μία λύση είναι να χρησιμοποιήσουμε μία δεύτερη - μη κινούμενη - omnidirectional κεραία και να κανονικοποιήσουμε τις μετρήσεις της directional με βάση τις μετρήσεις της δεύτερης.</p>
<hr>
<h3 id="β2-phase-response">Β2. Phase response</h3>
<p>Άλλος τρόπος υπολογισμού του AoA είναι με την αξιοποίηση της πληροφορία για την φάση που έχουμε για ένα σήμα. Σε αυτήν την περίπτωση χρειαζόμαστε ή κεραίες αρκετά μεγαλύτερες από το μήκος κύματος του σήματος που στέλνουμε, ή antenna arrays.</p>
<p>
Για τα κύματα γνωρίζουμε (μην ρωτάς πώς το γνωρίζουμε 😝 – δεν έχει σημασία να τα αναλύσουμε όλα, αλλά να δημιουργήσουμε την περιέργεια για περαιτέρω αναζήτηση) ότι η διαφορά φάσης \(\Delta \phi\) δύο σημείων που απέχουν μεταξύ τους \(\Delta \chi\) μπορεί να υπολογιστεί από την αυτή την σχέση: 
</p>
<p>$$
\Delta \phi = 2\pi\frac{\Delta \chi}{\lambda} = 2\pi\frac{\Delta t}{T}
$$</p>
<p>Συνεπώς, αν σχεδιάσουμε ένα antenna array, όπου η κάθε κεραία απέχει από την γειτονική της σε συγκεκριμένη απόσταση d και μετρώντας το phase difference του σήματος που λαμβάνουμε μεταξύ τους, τότε μπορούμε να υπολογίσουμε την γωνία πρόσληψης της ακτινοβολίας μέσω της σχέσης:</p>
<p>$$
\phi = \frac{2\pi}{\lambda}d\sin(\theta) \Rightarrow
$$
$$
\theta = \sin^{-1}\left(\frac{\lambda \phi}{2\pi d}\right) (1)
$$</p>
<p>Παράδειγμα αυτού βρίσκεται παρακάτω, όπου χρησιμοποιούμε omnidirectional κεραίες και o υπολογισμός της διαφοράς φάσης μπορεί να γίνει μέσω μετρήσεων TDoA.</p>


<figure class="custom-figure" style="margin: 0; padding: 0; text-align: center;">
  
  <img src="/img/posts/thesis/aoa-2antennas.webp" alt="Linear Two Antenna Array" style="max-width:80%; display: block; margin: 0 auto;max-height:400px">
  
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      (a) Linear Two Antenna Array
    </figcaption>
  
</figure>
<p>Δεν υπάρχουν όμως μόνο τα linear antenna arrays, μπορούμε να τα σχεδιάσουμε σε διάφορες διατάξεις, παράδειγμα μίας εξ&rsquo; αυτών βρίσκετα σε αυτή την εικόνα:</p>
<figure class="custom-figure" style="margin: 0; padding: 0;">
  <img src="/img/posts/localization/antenna-array-geometry-circular.webp" alt="Circular Antenna Array" class="" style="max-width:80%; display: block; margin: 0 auto;">
    <figcaption class="figure-caption" style="margin-top: 0.1em; font-size: 0.85em; color: #555;">
      (b) Circular Antenna Array (<a href="https://www.researchgate.net/publication/298331796_Adaptive_Array_Beamforming_Using_a_Chaotic_Beamforming_Algorithm" style="color:inherit">URL</a>)
    </figcaption>
</figure>
<p>Η μέθοδος με την αξιοποίηση της σχέσης (1) λειτουργεί αρκετά καλά όταν έχουμε υψηλό Signal to Noise Ratio (SNR), αλλά μπορεί να έχει λανθασμένα αποτελέσματα όταν έχουμε διασυμβολικές παρεμβολές ή multipath signals.</p>
<p>Επειδή στην πράξη εμφανίζονται και τα δύο, υπάρχει αρκετά μεγάλο επιστημονικό ενδιαφέρον να αντιμετωπιστεί αυτός ο περιορισμός. Αρκετές τεχνικές έχουν προταθεί οι οποίες στρέφονται γύρω από την λογική του Maximum Likelihood (ML) για τον υπολογισμό τελικά της γωνίας.</p>
<hr>
<p>Στο συγκεκριμένο άρθρο πήραμε μια πρώτη γεύση διάφορων τεχνικών που υπάρχουν ήδη, οι οποίες χρησιμοποιούν την ενέργεια για τον υπολογισμό απόστασης/γωνίας μεταξύ δύο σημείων.</p>
<p>Το ερώτημα, όμως, παραμένει&hellip;</p>
<p>Πώς μπορούμε να υπολογίσουμε την θέση αντικειμένων στο χώρο;</p>
<p>Έστω ότι γνωρίζουμε διάφορες αποστάσεις και γωνίες, μπορούν τέτοιες πληροφορίες να συνδυαστούν για να επιτύχουμε εκτίμηση της θέσης μας στον τρισδιάστατο χώρο;</p>
<p>Φυσικά και μπορούμε!</p>
<p>Σε αυτό το <a href="/posts/engineering/localization/position-computation">άρθρο</a> βλέπουμε πώς είναι εφικτό να γίνει αυτό.</p>
<h2 id="-παραπομπές">🔗 Παραπομπές</h2>
<p>[1] Christos Spyridakis, &ldquo;Design and implementation of a low cost embedded system for localization of drones flying in swarms&rdquo;, Diploma Work, School of Electrical and Computer Engineering, Technical University of Crete, Chania, Greece, 2022 <a href="https://doi.org/10.26233/heallink.tuc.91531">https://doi.org/10.26233/heallink.tuc.91531</a></p>
<p>* Όλες οι παραπομπές υπάρχουν αναλυτικά στο παραπάνο Thesis.</p>

    </div>

    <br>
    <br>

    
    
    <div class="post-author">
    <h3>Σχετικά με τον αρθρογράφο</h3>
    
    
        <div class="author-single">
        <div class="author-image">
          <a href="/author/cspyridakis/" style="text-decoration: none;color:inherit">
            <img src="/img/authors/cspyridakis.webp" alt="Χρήστος Σπυριδάκης">
          </a>
        </div>
        <div class="author-info">
          <a href="/author/cspyridakis/" style="text-decoration: none;color:inherit">
            <h4>Χρήστος Σπυριδάκης</a></h4>
          </a>
          <p>Ο Χρήστος είναι ο ιδρυτής του Stemerot, ένας μηχανικός με αγάπη για θέματα που αφορούν τον ευρύτερο κλάδο του STEM και του αρέσει να ασχολείται συνέχεια με νέες τεχνολογίες.</p>
        </div>
        <div class="author-single-social">
            
              <a href="https://www.linkedin.com/in/cspyridakis/" target="_blank">
                <img src="/img/social/linkedin-icon.svg" alt="LinkedIn">
              </a>
            
            
              <a href="https://github.com/CSpyridakis" target="_blank">
                <img src="/img/social/github-icon.svg" alt="Github">
              </a>
            
            
              <a href="https://www.instagram.com/cspyridakis/" target="_blank">
                <img src="/img/social/instagram-icon.svg" alt="Instagram">
              </a>
            
            
              <a href="https://www.facebook.com/cspyridakis/" target="_blank">
                <img src="/img/social/facebook-icon.svg" alt="Facebook">
              </a>
            
            
              <a href="https://x.com/ChSpyridakis" target="_blank">
                <img src="/img/social/x-icon.svg" alt="X">
              </a>
            
          </div>
        </div>
    
</div>

    
  </div>

  
  <aside class="sidebar">
    <section class="recent-posts">
    <section class="recent-section">
        <h2>Πρόσφατα</h2>
        
            

<article class="post">
    
    
        <a href="http://stemerot.com/posts/science/music-and-math/">
        <img src="/img/posts/thumbnails/piano-img.webp" alt="Είναι τελικά η Μουσική η αριθμητική των ήχων;">
        </a>
    

    
    <div class="post-info">

        
        <p class="post-date">
              









13 Φεβ 2025

            -
            
                Μαρία Ευαγγελινού
            
        </p>

        
        <h3 class="post-title">
        <a href="http://stemerot.com/posts/science/music-and-math/" style="text-decoration: none; color: inherit;">
            Είναι τελικά η Μουσική η αριθμητική των ήχων;
        </a>
        </h3>

        
        
        <p class="post-summary">Μπορούν τα μαθηματικά να εξηγήσουν άραγε την μουσική; Είναι η μουσική μία εξίσωση μαθηματικών;</p>
        

        
        
        <div class="post-tags">
            
            <a href="/tags/music" 
                class="tag" 
                style="text-decoration: none; color: inherit;">
                Music
            </a>
            
            <a href="/tags/maths" 
                class="tag" 
                style="text-decoration: none; color: inherit;">
                Maths
            </a>
            
        </div>
        

    </div>
</article>
        
            

<article class="post">
    
    
        <a href="http://stemerot.com/posts/technology/ai/llms-deepseek/">
        <img src="/img/posts/deepseek.webp" alt="Τι είναι το Deepseek;">
        </a>
    

    
    <div class="post-info">

        
        <p class="post-date">
              









04 Φεβ 2025

            -
            
                Χρήστος Σπυριδάκης
            
        </p>

        
        <h3 class="post-title">
        <a href="http://stemerot.com/posts/technology/ai/llms-deepseek/" style="text-decoration: none; color: inherit;">
            Τι είναι το Deepseek;
        </a>
        </h3>

        
        
        <p class="post-summary">Τα LLMs είναι μοντέλα τεχνητής νοημοσύνης. Είναι, όμως, επικίνδυνα;</p>
        

        
        
        <div class="post-tags">
            
            <a href="/tags/ai" 
                class="tag" 
                style="text-decoration: none; color: inherit;">
                AI
            </a>
            
            <a href="/tags/llm" 
                class="tag" 
                style="text-decoration: none; color: inherit;">
                LLM
            </a>
            
        </div>
        

    </div>
</article>
        
    </section>

    
<section class="adsense-section section-container">
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-5957385556386219"
        data-ad-slot="9876543210"
        data-ad-format="auto"
        data-full-width-responsive="true">
    </ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</section>

    <section class="popular-tags">
        <h2>Popular Tags</h2>
        <div class="tags">
            
            
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
            
            
            
            
                
                <a href="http://stemerot.com/tags/gps/" class="tag" style="text-decoration: none; color: inherit">
                    GPS
                </a>
            
                
                <a href="http://stemerot.com/tags/ai/" class="tag" style="text-decoration: none; color: inherit">
                    AI
                </a>
            
                
                <a href="http://stemerot.com/tags/camera/" class="tag" style="text-decoration: none; color: inherit">
                    Camera
                </a>
            
                
                <a href="http://stemerot.com/tags/dunning-kruger/" class="tag" style="text-decoration: none; color: inherit">
                    Dunning Kruger
                </a>
            
                
                <a href="http://stemerot.com/tags/encryption/" class="tag" style="text-decoration: none; color: inherit">
                    Encryption
                </a>
            
                
                <a href="http://stemerot.com/tags/linux/" class="tag" style="text-decoration: none; color: inherit">
                    Linux
                </a>
            
                
                <a href="http://stemerot.com/tags/llm/" class="tag" style="text-decoration: none; color: inherit">
                    LLM
                </a>
            
                
                <a href="http://stemerot.com/tags/mac/" class="tag" style="text-decoration: none; color: inherit">
                    Mac
                </a>
            
                
                <a href="http://stemerot.com/tags/maths/" class="tag" style="text-decoration: none; color: inherit">
                    Maths
                </a>
            
                
                <a href="http://stemerot.com/tags/multilateration/" class="tag" style="text-decoration: none; color: inherit">
                    Multilateration
                </a>
            
        </div>
    </section>
</section>
  </aside>
</main>


<section class="adsense-section section-container">
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-5957385556386219"
        data-ad-slot="9876543210"
        data-ad-format="auto"
        data-full-width-responsive="true">
    </ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</section>


<section class="all-posts-section section-container">
    <h2>Πρόσφατα Άρθρα</h2>
    <div class="all-posts-grid">
        
        
        
            <article class="post">
                <a href="http://stemerot.com/posts/science/music-and-math/">
                    <img src="/img/posts/thumbnails/piano-img.webp" alt="Είναι τελικά η Μουσική η αριθμητική των ήχων;">
                </a>
                <div class="post-info">
                    <p class="post-date">
                          









13 Φεβ 2025

                        -
                        
                            Μαρία Ευαγγελινού
                        
                    </p>
                    <h3 class="post-title">Είναι τελικά η Μουσική η αριθμητική των ήχων;</h3>
                    <p class="post-summary">Μπορούν τα μαθηματικά να εξηγήσουν άραγε την μουσική; Είναι η μουσική μία εξίσωση μαθηματικών;</p>
                    <div class="post-tags">
                        
                        <a href="/tags/music" class="tag" style="text-decoration: none;color:inherit">Music</a>
                        
                        <a href="/tags/maths" class="tag" style="text-decoration: none;color:inherit">Maths</a>
                        
                    </div>
                </div>
            </article>
        
            <article class="post">
                <a href="http://stemerot.com/posts/technology/ai/llms-deepseek/">
                    <img src="/img/posts/deepseek.webp" alt="Τι είναι το Deepseek;">
                </a>
                <div class="post-info">
                    <p class="post-date">
                          









04 Φεβ 2025

                        -
                        
                            Χρήστος Σπυριδάκης
                        
                    </p>
                    <h3 class="post-title">Τι είναι το Deepseek;</h3>
                    <p class="post-summary">Τα LLMs είναι μοντέλα τεχνητής νοημοσύνης. Είναι, όμως, επικίνδυνα;</p>
                    <div class="post-tags">
                        
                        <a href="/tags/ai" class="tag" style="text-decoration: none;color:inherit">AI</a>
                        
                        <a href="/tags/llm" class="tag" style="text-decoration: none;color:inherit">LLM</a>
                        
                    </div>
                </div>
            </article>
        
            <article class="post">
                <a href="http://stemerot.com/posts/engineering/drones/">
                    <img src="/img/posts/drone-mini.webp" alt="Μη επανδρωμένα οχήματα">
                </a>
                <div class="post-info">
                    <p class="post-date">
                          









21 Ιαν 2025

                        -
                        
                            Χρήστος Σπυριδάκης
                        
                    </p>
                    <h3 class="post-title">Μη επανδρωμένα οχήματα</h3>
                    <p class="post-summary">Ποιες είναι οι διάφορες κατηγορίες drones και μπορούν να χρησιμοποιηθούν για κάτι πέρα από τη λήψη βίντεο;</p>
                    <div class="post-tags">
                        
                        <a href="/tags/uav" class="tag" style="text-decoration: none;color:inherit">UAV</a>
                        
                        <a href="/tags/vtol" class="tag" style="text-decoration: none;color:inherit">VTOL</a>
                        
                    </div>
                </div>
            </article>
        
            <article class="post">
                <a href="http://stemerot.com/posts/psychology/stupid-people/">
                    <img src="/img/posts/person-think.webp" alt="Μήπως όλοι σκεφτόμαστε με χαζό τρόπο;">
                </a>
                <div class="post-info">
                    <p class="post-date">
                          









21 Ιαν 2025

                        -
                        
                            Χρήστος Σπυριδάκης
                        
                    </p>
                    <h3 class="post-title">Μήπως όλοι σκεφτόμαστε με χαζό τρόπο;</h3>
                    <p class="post-summary">Είναι ένα άτομο με υψηλό IQ έξυπνο σε όλους τους τομείς της ζωής του;</p>
                    <div class="post-tags">
                        
                        <a href="/tags/dunning-kruger" class="tag" style="text-decoration: none;color:inherit">Dunning Kruger</a>
                        
                    </div>
                </div>
            </article>
        
            <article class="post">
                <a href="http://stemerot.com/posts/technology/os/pc-vs-mac-vs-linux/">
                    <img src="/img/posts/laptop-and-code.webp" alt="Η μεγάλη μάχη των λειτουργικών συστημάτων">
                </a>
                <div class="post-info">
                    <p class="post-date">
                          









20 Ιαν 2025

                        -
                        
                            Χρήστος Σπυριδάκης
                        
                    </p>
                    <h3 class="post-title">Η μεγάλη μάχη των λειτουργικών συστημάτων</h3>
                    <p class="post-summary">Ποιο λειτουργικό είναι καλύτερο να χρησιμοποιείς;</p>
                    <div class="post-tags">
                        
                        <a href="/tags/os" class="tag" style="text-decoration: none;color:inherit">OS</a>
                        
                        <a href="/tags/mac" class="tag" style="text-decoration: none;color:inherit">Mac</a>
                        
                        <a href="/tags/linux" class="tag" style="text-decoration: none;color:inherit">Linux</a>
                        
                        <a href="/tags/windows" class="tag" style="text-decoration: none;color:inherit">Windows</a>
                        
                    </div>
                </div>
            </article>
        
            <article class="post">
                <a href="http://stemerot.com/posts/engineering/security/tee/">
                    <img src="/img/posts/lock-digital.webp" alt="Ασφάλεια στην εκτέλεση προγραμμάτων">
                </a>
                <div class="post-info">
                    <p class="post-date">
                          









19 Ιαν 2025

                        -
                        
                            Χρήστος Σπυριδάκης
                        
                    </p>
                    <h3 class="post-title">Ασφάλεια στην εκτέλεση προγραμμάτων</h3>
                    <p class="post-summary">Πώς μπορούν οι εφαρμογές να εκτελούνται με ασφάλεια στις συσκευές, ακόμη και αν αυτές έχουν παραβιαστεί;</p>
                    <div class="post-tags">
                        
                        <a href="/tags/tee" class="tag" style="text-decoration: none;color:inherit">TEE</a>
                        
                        <a href="/tags/encryption" class="tag" style="text-decoration: none;color:inherit">Encryption</a>
                        
                    </div>
                </div>
            </article>
        
    </div>
</section>


<section class="section-about">
    <div class="about-container">
        <h2>Το όραμα μας</h2>
        <p style="text-align: justify;">
            Η ομάδα του Stemerot έχει ως όραμα να εμπνεύσει και να ενδυναμώσει τα άτομα στον κόσμο 
            της τεχνολογίας και της καινοτομίας. Στόχος μας είναι να καλλιεργήσουμε μια κοινότητα όπου 
            η γνώση μοιράζεται και η περιέργεια ανταμείβεται. 
        </p>
        <h2>Οι στόχοι μας</h2>
        <p style="text-align: justify;">
            Να παρέχουμε προσιτό, ελκυστικό και ενημερωμένο περιεχόμενο, το οποίο, με απλό και κατανοητό 
            τρόπο, ενημερώνει και συμβάλλει στη μείωση του χάσματος μεταξύ αρχαρίων και ειδικών στα πεδία STEM. 
        </p>
    </div>
</section>


<section class="newsletter-section">
    <div class="newsletter-container">
        <h2>Εγγραφείτε στο Newsletter!</h2>
        <p>Θέλεις να μην χάνεις κανένα νέο από την κοινότητα του Stemerot.</p>
        <p>Κάνε εγγραφή στο newsletter μας, και κάθε εβδομάδα θα σου στέλνουμε ένα e-mail με όλα τα νέα που έχουμε.</p>
        <form class="newsletter-form" action="https://usebasin.com/f/3885f27a614d" method="POST" enctype="multipart/form-data" id="form">
            <label for="newsletter-first-name">Όνομα</label>
            <input 
                type="text" 
                id="newsletter-first-name" 
                name="newsletter-first-name" 
                placeholder="First Name"
            />

            <label for="newsletter-lastname">Επώνυμο</label>
            <input 
                type="text" 
                id="newsletter-lastname" 
                name="newsletter-lastname" 
                placeholder="Last Name"
            />

            <label for="newsletter-email">Email *</label>
            <input 
                type="email" 
                id="newsletter-email" 
                name="newsletter-email" 
                placeholder="Email Address" 
                required 
            />

            
            <div style="text-align: justify;">
                <input
                    type="checkbox"
                    id="newsletter-terms-agreement"
                    name="newsletter-terms-agreement"
                    required
                />
                <label for="newsletter-terms-agreement">
                    Συμφωνώ να λαμβάνω ενημερωτικά δελτία (newsletters) από την κοινότητα 
                    Stemerot και παρέχω τη συγκατάθεσή μου για την επεξεργασία των 
                    προσωπικών μου δεδομένων για σκοπούς ενημέρωσης και προώθησης όπως περιγράφεται στην
                    <a href="/privacy/" style="color: inherit;" target="_blank">Πολιτική Απορρήτου</a>.
                </label>
            </div>

            <br>

            <div>
                <label for="contact-agreement-notes">
                   * Οποιαδήποτε στιγμή επιθυμείτε να σταματήσετε να λαμβάνεται ενημερωτικό υλικό από το Stemerot, στείλτε ένα μήνυμα με το αίτημα σας στο <a href="mailto:admin@stemerot.com" style="color:inherit">admin@stemerot.com</a>.
                </label>
            </div>

            <button type="submit">Εγγραφή</button>
        </form>
    </div>
</section>


  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script>



<script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>



  <footer class="site-footer">
  <div class="footer-container">
    <div class="footer-links">
      <h3>Σχετικά με εμάς</h3>
      <ul>
        <li><a href="/about/">Ποιοί είμαστε;</a></li>
        <li><a href="/authors/">Αρθρογράφοι</a></li>
      </ul>
    </div>
    <div class="footer-links">
      <h3>Ακολούθησε μας</h3>
      <ul class="footer-icons-ul">
        <li><a href="https://www.linkedin.com/groups/10055272/"><img class="footer-icons" src="/img/social/linkedin-icon.svg" alt="Linkedin icon"/></a></li>
        <li><a href="https://www.facebook.com/profile.php?id=100090351596163"><img class="footer-icons" src="/img/social/facebook-icon.svg" alt="Facebook icon"/></a></li>
        <li><a href="https://x.com/stemerot"><img class="footer-icons" src="/img/social/x-icon.svg" alt="X icon"/></a></li>
        <li><a href="https://www.instagram.com/stemerot/"><img class="footer-icons" src="/img/social/instagram-icon.svg" alt="Instagram icon"/></a></li>
        <li><a href="https://open.spotify.com/user/31v3opcsq57nt4eg4hsbm5s6nfny"><img class="footer-icons" src="/img/social/spotify-icon.svg" alt="Spotify icon"/></a></li>
        <li><a href="https://discord.gg/M7c22wa7"><img class="footer-icons" src="/img/social/discord-icon.svg" alt="Spotify icon"/></a></li>
        <li><a href="https://www.youtube.com/@stemerot"><img class="footer-icons" src="/img/social/youtube-icon.svg" alt="Youtube icon"/></a></li>
      </ul>
    </div>
    <div class="footer-links">
      <h3>Επικοινωνία</h3>
      <ul>
        <li><a href="mailto:info@stemerot.com">E-mail</a></li>
        <li><a href="/faq/">FAQ</a></li>
        <li><a href="/privacy">Πολιτική Απορρήτου</a></li>
      </ul>
    </div>
  </div>
  <div class="copyright">
    Stemerot &copy; 2025. All rights reserved.
  </div>
</footer>
  <div id="cookie-consent-banner" class="cookie-banner" style="display: none;">
  <p>
    Χρησιμοποιούμε cookies για να βελτιώσουμε την εμπειρία σας, να εμφανίζουμε εξατομικευμένες διαφημίσεις και να αναλύουμε την κίνηση. 
    Για περισσότερες λεπτομέρειες σχετικά με τη διαχείριση των προσωπικών σας δεδομένων, δείτε την 
    <a href="/privacy/" style="color: inherit;" target="_blank">Πολιτική Απορρήτου</a>.
  </p>
  <button id="accept-all-cookies">Αποδοχή όλων</button>
  <button id="accept-mandatory-cookies">Αποδοχή μόνο των απαραίτητων</button>
</div>

  
<script>


window.addEventListener('DOMContentLoaded', function() {
    var cookieConsent = localStorage.getItem('cookieConsent');
    var banner = document.getElementById('cookie-consent-banner');

    
    if (!cookieConsent) {
        banner.style.display = 'block';
        } else if (cookieConsent === 'accepted-all') {
           
        loadGoogleAnalytics();
        loadGoogleAdSense();
    }
});

    
    document.getElementById('accept-all-cookies').addEventListener('click', function() {
        localStorage.setItem('cookieConsent', 'accepted-all');
    document.getElementById('cookie-consent-banner').style.display = 'none';

    
    loadGoogleAnalytics();
    loadGoogleAdSense();
});

    
    document.getElementById('accept-mandatory-cookies').addEventListener('click', function() {
        localStorage.setItem('cookieConsent', 'accepted-mandatory');
    document.getElementById('cookie-consent-banner').style.display = 'none';

        
});



function loadGoogleAnalytics() {
    var gaScript = document.createElement('script');
    gaScript.async = true;
    gaScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-2JQ9H53HHS';
    document.head.appendChild(gaScript);

    gaScript.onload = function() {
        window.dataLayer = window.dataLayer || [];
        function gtag(){ dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-2JQ9H53HHS', { 'anonymize_ip': true });
    };
}



function loadGoogleAdSense() {
    var adsScript = document.createElement('script');
    adsScript.async = true;
    adsScript.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5957385556386219';
    adsScript.crossorigin = 'anonymous';
    document.head.appendChild(adsScript);
}
</script>
  <script>

document.getElementById('menu-toggle').addEventListener('click', function () {
    const nav = document.getElementById('main-nav');
    nav.classList.toggle('active'); 
});


document.addEventListener('click', function(e) {
    const nav = document.getElementById('main-nav');
    const menuToggle = document.getElementById('menu-toggle');
    
    if (nav.classList.contains('active') && 
        !nav.contains(e.target) && 
        !menuToggle.contains(e.target)) {
        nav.classList.remove('active');
    }
});

let lastScrollPosition = 0;
const header = document.querySelector('.site-header');

window.addEventListener('scroll', () => {
    const currentScrollPosition = window.scrollY;

    if (currentScrollPosition > lastScrollPosition && currentScrollPosition > 100) {
        
        header.style.transform = 'translateY(-100%)';
    } else {
        
        header.style.transform = 'translateY(0)';
    }

    lastScrollPosition = currentScrollPosition;
});
</script>

<script>

const themeToggleBtn = document.getElementById("toggle-theme");
const currentTheme = localStorage.getItem("theme");
if (currentTheme === "dark") {
    document.body.classList.add("dark-theme");
}
themeToggleBtn.addEventListener("click", function () {
    document.body.classList.toggle("dark-theme");
    if (document.body.classList.contains("dark-theme")) {
    localStorage.setItem("theme", "dark");
    } else {
    localStorage.setItem("theme", "light");
    }
});
</script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js"></script>

<script>

document.getElementById('menu-toggle').addEventListener('click', function () {
    const nav = document.getElementById('main-nav');
    nav.classList.toggle('active'); 
});


document.addEventListener('click', function(e) {
    const nav = document.getElementById('main-nav');
    const menuToggle = document.getElementById('menu-toggle');
    if (nav.classList.contains('active') && 
        !nav.contains(e.target) && 
        !menuToggle.contains(e.target)) {
        nav.classList.remove('active');
    }
});

let lastScrollPosition = 0;
const header = document.querySelector('.site-header');

window.addEventListener('scroll', () => {
    const currentScrollPosition = window.scrollY;

    if (currentScrollPosition > lastScrollPosition && currentScrollPosition > 100) {
        
        header.style.transform = 'translateY(-100%)';
    } else {
        
        header.style.transform = 'translateY(0)';
    }

    lastScrollPosition = currentScrollPosition;
});
</script>


<script>
const themeToggleBtn = document.getElementById("toggle-theme");
const currentTheme = localStorage.getItem("theme");
if (currentTheme === "dark") {
    document.body.classList.add("dark-theme");
}
themeToggleBtn.addEventListener("click", function () {
    document.body.classList.toggle("dark-theme");
    if (document.body.classList.contains("dark-theme")) {
        localStorage.setItem("theme", "dark");
    } else {
        localStorage.setItem("theme", "light");
    }
});
</script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  
  const searchInputs = document.querySelectorAll(".search-input");
  if (searchInputs.length === 0) return;

  
  fetch("/index.json")
    .then(response => response.json())
    .then(data => {
      const options = {
        keys: ['title', 'summary', 'category', 'content'],
        includeScore: true,
        includeMatches: true,
        threshold: 0.4, 
      };
      const fuse = new Fuse(data, options);

      
      function handleSearchInput(e) {
        const input = e.target;
        
        const resultsContainer = input.nextElementSibling;
        const query = input.value.trim();
        resultsContainer.innerHTML = "";
        if (query.length < 2) {
          resultsContainer.style.display = "none";
          return;
        }
        resultsContainer.style.display = "block";
        
        resultsContainer.style.width = "400px";

        const fuseResults = fuse.search(query);

        
        fuseResults.slice(0, 5).forEach(result => {
          const item = result.item;
          let snippetHTML = "";
          if (result.matches && Array.isArray(result.matches)) {
            for (const match of result.matches) {
              if (match.indices && match.indices.length > 0) {
                const fieldName = match.key;
                const fieldText = item[fieldName] || "";
                if (fieldText) {
                  const [start, end] = match.indices[0];
                  const contextBefore = 30;
                  const contextAfter = 30;
                  const snippetStart = Math.max(0, start - contextBefore);
                  const snippetEnd = Math.min(fieldText.length, end + contextAfter);
                  let snippet = fieldText.substring(snippetStart, snippetEnd);
                  if (snippetStart > 0) {
                    snippet = "..." + snippet;
                  }
                  if (snippetEnd < fieldText.length) {
                    snippet = snippet + "...";
                  }
                  const matchText = fieldText
                    .substring(start, end + 1)
                    .replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                  const regexHighlight = new RegExp("(" + matchText + ")", "gi");
                  snippetHTML = snippet.replace(regexHighlight, "<strong>$1</strong>");
                  break; 
                }
              }
            }
          }
          
          const div = document.createElement("div");
          div.style.marginBottom = "1rem";
          div.innerHTML = `
            <a href="${item.url}" style="text-decoration: none;">
              <strong style="color:#000">${item.title}</strong>
              <div style="font-size: 0.8rem; font-weight: normal; color: #444; margin-top: 0.25rem;">
                ${snippetHTML}
              </div>
            </a>
          `;
          resultsContainer.appendChild(div);
        });
        
        if (fuseResults.length === 0) {
          resultsContainer.innerHTML = "<p style=\"color:#333\">Δεν βρέθηκαν αποτελέσματα.</p>";
        }
      }
      
      
      searchInputs.forEach(input => {
        input.addEventListener("input", handleSearchInput);
        input.addEventListener("focus", function(){
          if (input.value.trim().length >= 2) {
            input.nextElementSibling.style.display = "block";
          }
        });
      });
      
      
      document.addEventListener("click", function(e) {
        searchInputs.forEach(input => {
          const resultsContainer = input.nextElementSibling;
          if (!input.contains(e.target) && !resultsContainer.contains(e.target)) {
            resultsContainer.style.display = "none";
          }
        });
      });
    })
    .catch(err => console.error("Error loading search index:", err));
});
</script>
  

</body>
</html>
